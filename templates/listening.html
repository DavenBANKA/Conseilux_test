{% extends 'base.html' %}
{% block body_class %}test-page{% endblock %}
{% block content %}
<section class="test">
  <div class="container test-container">
    <div class="test-header">
      <div class="progress-wrap">
        <div id="progress" class="progress-label">Listening - Question 1 of 26</div>
        <div class="progress-bar">
          <div id="progress-fill" class="progress-fill"></div>
        </div>
      </div>
      <div class="timers">
        <div id="perq-timer" class="timer strong">10:00</div>
        <div id="timer" class="timer">00:00:00</div>
      </div>
    </div>
    <div id="question-card" class="card fade-in">
      <div class="listening-section-header">
        <h3 id="section-title">Section 1 - A1 Level</h3>
        
        <div id="audio-controls">
          <button id="play-audio" class="btn secondary">ðŸ”Š Play Audio</button>
          <div id="speech-status">Click Play to listen</div>
        </div>
        
        <div class="audio-settings">
          <div class="setting-group">
            <label for="voice-select">ðŸŽ¤ Voice:</label>
            <select id="voice-select" class="voice-select">
              <option value="">Loading voices...</option>
            </select>
          </div>
          
          <div class="setting-group">
            <label for="speed-control">âš¡ Speed:</label>
            <input type="range" id="speed-control" min="0.5" max="2" step="0.1" value="0.85" class="speed-slider">
            <span id="speed-value" class="speed-value">0.85x</span>
          </div>
        </div>
      </div>
      
      <div id="questions-group" class="questions-group">
        <!-- Questions will be inserted here -->
      </div>
      
      <div class="actions">
        <button id="next-btn" class="btn primary">Next Section</button>
      </div>
    </div>
  </div>
</section>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/confirmation-modal.js') }}"></script>
<script src="{{ url_for('static', filename='js/questions.js') }}"></script>
<script src="{{ url_for('static', filename='js/listening_new.js') }}"></script>
{% endblock %}
