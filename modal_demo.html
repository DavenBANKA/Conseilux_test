<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Confirmation Modal - Demo</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(180deg, #f8f9fa 0%, #e9ecef 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .demo-container {
      background: white;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 2px 20px rgba(0, 0, 0, .08);
      max-width: 600px;
      width: 100%;
      text-align: center;
    }

    h1 {
      font-size: 28px;
      color: #0b2545;
      margin-bottom: 16px;
    }

    p {
      font-size: 16px;
      color: #6c757d;
      margin-bottom: 32px;
      line-height: 1.6;
    }

    .demo-buttons {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .demo-btn {
      padding: 14px 28px;
      border-radius: 6px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all .3s ease;
      border: none;
    }

    .demo-btn-primary {
      background: #f1c40f;
      color: #0b2545;
    }

    .demo-btn-primary:hover {
      background: #d4ac0d;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(241, 196, 15, .3);
    }

    .demo-btn-secondary {
      background: #0b2545;
      color: white;
    }

    .demo-btn-secondary:hover {
      background: #13315c;
      transform: translateY(-2px);
    }

    .result {
      margin-top: 24px;
      padding: 16px;
      background: #f8f9fa;
      border-radius: 8px;
      font-size: 14px;
      color: #0b2545;
      display: none;
    }

    .result.show {
      display: block;
    }

    /* Modal Styles */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, .5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      animation: fadeIn .3s ease;
    }

    .modal-overlay.active {
      display: flex;
    }

    .modal-content {
      background: white;
      border-radius: 12px;
      padding: 32px;
      max-width: 500px;
      width: 90%;
      box-shadow: 0 10px 40px rgba(0, 0, 0, .2);
      animation: slideUp .3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .modal-icon {
      font-size: 48px;
      text-align: center;
      margin-bottom: 16px;
    }

    .modal-title {
      font-size: 22px;
      font-weight: 700;
      color: #0b2545;
      text-align: center;
      margin: 0 0 12px;
    }

    .modal-message {
      font-size: 16px;
      color: #6c757d;
      text-align: center;
      line-height: 1.6;
      margin: 0 0 24px;
    }

    .modal-buttons {
      display: flex;
      gap: 12px;
      justify-content: center;
    }

    .modal-btn {
      padding: 12px 32px;
      border-radius: 6px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all .3s ease;
      border: none;
      min-width: 120px;
    }

    .modal-btn-primary {
      background: #f1c40f;
      color: #0b2545;
    }

    .modal-btn-primary:hover {
      background: #d4ac0d;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(241, 196, 15, .3);
    }

    .modal-btn-secondary {
      background: white;
      color: #0b2545;
      border: 2px solid #dee2e6;
    }

    .modal-btn-secondary:hover {
      background: #f8f9fa;
      border-color: #0b2545;
    }

    @media (max-width: 768px) {
      .modal-content {
        padding: 24px;
        width: 95%;
      }

      .modal-buttons {
        flex-direction: column;
      }

      .modal-btn {
        width: 100%;
      }

      .demo-container {
        padding: 24px;
      }
    }
  </style>
</head>
<body>
  <div class="demo-container">
    <h1>üîî Confirmation Modal Demo</h1>
    <p>Click the buttons below to test the confirmation modal in different scenarios.</p>

    <div class="demo-buttons">
      <button class="demo-btn demo-btn-primary" onclick="testUnansweredQuestion()">
        Test: Unanswered Question (Reading)
      </button>

      <button class="demo-btn demo-btn-primary" onclick="testUnansweredSection()">
        Test: Unanswered Section (Listening)
      </button>

      <button class="demo-btn demo-btn-secondary" onclick="testCustomMessage()">
        Test: Custom Message
      </button>
    </div>

    <div id="result" class="result"></div>
  </div>

  <script>
    // Confirmation Modal Component
    (function() {
      function createModal() {
        if (document.getElementById('confirmation-modal')) return;

        const modalHTML = `
          <div id="confirmation-modal" class="modal-overlay">
            <div class="modal-content">
              <div class="modal-icon">‚ö†Ô∏è</div>
              <h3 class="modal-title">Confirmation Required</h3>
              <p class="modal-message" id="modal-message"></p>
              <div class="modal-buttons">
                <button id="modal-cancel" class="modal-btn modal-btn-secondary">No, Go Back</button>
                <button id="modal-confirm" class="modal-btn modal-btn-primary">Yes, Continue</button>
              </div>
            </div>
          </div>
        `;

        document.body.insertAdjacentHTML('beforeend', modalHTML);

        document.getElementById('confirmation-modal').addEventListener('click', function(e) {
          if (e.target === this) {
            hideModal();
          }
        });
      }

      function showModal() {
        const modal = document.getElementById('confirmation-modal');
        if (modal) {
          modal.classList.add('active');
          document.body.style.overflow = 'hidden';
        }
      }

      function hideModal() {
        const modal = document.getElementById('confirmation-modal');
        if (modal) {
          modal.classList.remove('active');
          document.body.style.overflow = '';
        }
      }

      window.showConfirmationModal = function(message, onConfirm, onCancel) {
        createModal();

        const messageEl = document.getElementById('modal-message');
        const confirmBtn = document.getElementById('modal-confirm');
        const cancelBtn = document.getElementById('modal-cancel');

        if (messageEl) {
          messageEl.textContent = message;
        }

        const newConfirmBtn = confirmBtn.cloneNode(true);
        const newCancelBtn = cancelBtn.cloneNode(true);
        confirmBtn.parentNode.replaceChild(newConfirmBtn, confirmBtn);
        cancelBtn.parentNode.replaceChild(newCancelBtn, cancelBtn);

        newConfirmBtn.addEventListener('click', function() {
          hideModal();
          if (typeof onConfirm === 'function') {
            onConfirm();
          }
        });

        newCancelBtn.addEventListener('click', function() {
          hideModal();
          if (typeof onCancel === 'function') {
            onCancel();
          }
        });

        showModal();
      };

      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          hideModal();
        }
      });
    })();

    // Demo Functions
    function showResult(message, type) {
      const result = document.getElementById('result');
      result.textContent = message;
      result.style.background = type === 'success' ? '#d4edda' : '#f8d7da';
      result.style.color = type === 'success' ? '#155724' : '#721c24';
      result.classList.add('show');

      setTimeout(() => {
        result.classList.remove('show');
      }, 3000);
    }

    function testUnansweredQuestion() {
      showConfirmationModal(
        'You have not answered this question. Do you want to skip it and move to the next question?',
        function() {
          showResult('‚úÖ User confirmed - Moving to next question', 'success');
        },
        function() {
          showResult('‚ùå User cancelled - Staying on current question', 'error');
        }
      );
    }

    function testUnansweredSection() {
      showConfirmationModal(
        'You have 3 unanswered questions in this section. Do you want to continue to the next section anyway?',
        function() {
          showResult('‚úÖ User confirmed - Moving to next section', 'success');
        },
        function() {
          showResult('‚ùå User cancelled - Staying on current section', 'error');
        }
      );
    }

    function testCustomMessage() {
      showConfirmationModal(
        'This is a custom confirmation message. You can use this modal for any confirmation scenario!',
        function() {
          showResult('‚úÖ Custom action confirmed!', 'success');
        },
        function() {
          showResult('‚ùå Custom action cancelled!', 'error');
        }
      );
    }
  </script>
</body>
</html>
